<div id="customerModal" 
     class="fixed inset-0 hidden items-center justify-center z-50 bg-slate-900/40 backdrop-blur-sm p-4">

  <div class="bg-white w-full max-w-sm rounded-2xl shadow-2xl overflow-hidden animate-scaleIn">
    <div class="bg-slate-50 px-5 py-3 border-b border-slate-100 flex justify-between items-center">
      <h3 class="text-sm font-bold text-slate-700">Edit Data</h3>
      <button onclick="closeCustomerModal()" class="text-slate-400 hover:text-red-500">✕</button>
    </div>
    
    <div class="p-5 space-y-4">
      <div>
        <label class="text-xs font-bold text-slate-400 uppercase block mb-1">Nama</label>
        <input type="text" id="modalCustomerName" class="w-full bg-slate-50 border border-slate-200 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500 outline-none">
      </div>
      <div>
        <label class="text-xs font-bold text-slate-400 uppercase block mb-1">Invoice</label>
        <input type="text" id="modalInvoiceNumber" class="w-full bg-slate-50 border border-slate-200 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-emerald-500 outline-none">
      </div>
      <div>
        <label class="text-xs font-bold text-slate-400 uppercase block mb-1">CodePin</label>
        <input type="text" id="modalExtraInfo" class="w-full bg-slate-50 border border-slate-200 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-orange-500 outline-none">
      </div>

      <button onclick="saveCustomerInfo()" class="w-full bg-indigo-600 text-white py-2 rounded-lg text-sm font-bold hover:bg-indigo-700">Simpan</button>
    </div>
  </div>
</div>
<script>
  // نفس اللوجيك السابق تماماً
  function openCustomerModal() {
    const modal = document.getElementById("customerModal");
    document.getElementById("modalCustomerName").value = document.getElementById("customerNameInput").value || "";
    document.getElementById("modalInvoiceNumber").value = document.getElementById("invoiceNumberInput").value || "";
    document.getElementById("modalExtraInfo").value = document.getElementById("extraInfoInput").value || "";
    modal.classList.remove("hidden");
    modal.classList.add("flex");
  }

  function closeCustomerModal() {
    const modal = document.getElementById("customerModal");
    modal.classList.add("hidden");
    modal.classList.remove("flex");
  }

  function saveCustomerInfo() {
    const name = document.getElementById("modalCustomerName").value.trim();
    const invoice = document.getElementById("modalInvoiceNumber").value.trim();
    const codePin = document.getElementById("modalExtraInfo").value.trim();

    document.getElementById("customerNameInput").value = name;
    document.getElementById("invoiceNumberInput").value = invoice;
    document.getElementById("extraInfoInput").value = codePin;

    // Update Text inside Span
    document.querySelector("#badgeCustomerName span").textContent = name ? name : "Pelanggan";
    document.querySelector("#badgeInvoiceNumber span").textContent = invoice ? invoice : "Invoice";
    
    const badgePin = document.getElementById("badgeCodePin");
    if(codePin) {
       badgePin.classList.remove("hidden");
       badgePin.classList.add("flex");
       badgePin.querySelector("span").textContent = codePin;
    } else {
       badgePin.classList.add("hidden");
       badgePin.classList.remove("flex");
    }
    closeCustomerModal();
  }
</script>
